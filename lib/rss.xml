<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[cisco]]></title><description><![CDATA[Obsidian digital garden]]></description><link>http://github.com/dylang/node-rss</link><image><url>lib/media/favicon.png</url><title>cisco</title><link></link></image><generator>Webpage HTML Export plugin for Obsidian</generator><lastBuildDate>Mon, 19 Aug 2024 13:03:23 GMT</lastBuildDate><atom:link href="lib/rss.xml" rel="self" type="application/rss+xml"/><pubDate>Mon, 19 Aug 2024 13:03:22 GMT</pubDate><ttl>60</ttl><dc:creator></dc:creator><item><title><![CDATA[תכנון והקמה של מודל של רשת ארגונית]]></title><description><![CDATA[ 
 <br><br>מאייר שטרקמן<br><br><br><img alt="A diagram of a computer network" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUfGpDLzjIHwpmSOOWCa1uRxcqKuO2llu0S9IN2kphg9G1bE9KJ_lcRgIdxKOekh65YgIgxEFn1iPWWRX_ipK6dhVjG_tlo6eD1i-kWZxUybUI1aGuL_Luhk_ib3SkdzCOKa0Cw8uTHnR5vDgXKhM_BxuUTSVL5nQ162eTqx6Pzfe1_AGeT3KAM=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>פרוטוקול ניתוב שעוזר לראוטרים לשמור על עדכניות בכל הקשור לנתיבים ברשת. בעזרת חבילות hello ו- LSAs<br>(מודעות מצב קישור), הראוטרים "מדברים" אחד עם השני ומעדכנים על שינויים או מצבים חדשים. כל זה עוזר לכל ראוטר לדעת מי השכנים שלו ואיך להגיע אליהם הכי מהר.<br>הפרוטוקול ממש מועיל לרשתות בסניפים שונים שרוצות לדבר זו עם זו בצורה ישירה וללא עיכובים.<br><br>Router ospf 100
Router-id 1.1.1.1
Network 192.168.0.0 0.0.0.255 area 0
Copy<br><br><br><img alt="Screenshot from 2024-08-19 11-48-37.png" src="/screenshot-from-2024-08-19-11-48-37.png"><br><img alt="Screenshot from 2024-08-19 11-48-56.png" src="/screenshot-from-2024-08-19-11-48-56.png"><br><br><br>מנהרת GRE מאפשרת עטיפה (encapsulation) של חבילות נתונים, כך שסניפים מרוחקים נראים כאילו הם מחוברים ישירות לרשת מקומית, ולא עוברים דרך רשתות WAN כמו האינטרנט.<br>השימוש במנהרת GRE מאפשר הפעלת פרוטוקולי ניתוב נוספים שלא היו יכולים לפעול ברשתות WAN. כדי להתמודד עם העובדה ש-GRE לא מספק אבטחה, משתמשים ב-IPsec להוספת שכבת הצפנה (encryption) ולשמירה על ביטחון הנתונים.<br>באמצעות פרוטוקולים כמו IKE ו-ESP, IPsec מבטיח שכל חבילה שעוברת דרך המנהרה תהיה גם עטופה וגם מוצפנת, מה שמגן על המידע ושומר עליו חסוי.<br><br><br><img alt="Pasted image 20240819150721.png" src="/pasted-image-20240819150721.png"><br><br><br>טכנולוגיה שמאפשרת יצירת רשתות לוגיות נפרדות בתוך מתג פיזי אחד. שימוש -**VLAN** בטופולוגיה שלנו מקטין את ה-broadcast domain, כך שחבילות broadcast מוגבלות רק ל-VLAN שלהן. זה משפר את ביצועי הרשת על ידי הפחתת כמות התעבורה הלא נחוצה.<br>בנוסף, VLAN משמש להפרדה בין תעבורת ניהול לתעבורת משתמשים, מה שמגביר את אבטחת הרשת.<br><br>Vlan 10
Name users
Copy<br><br>Switchport mode access
Switchport access vlan 10
Copy<br><br><br><img alt="Screenshot from 2024-08-19 14-05-53.png" src="/screenshot-from-2024-08-19-14-05-53.png"><br><br><br>לאפשר מעבר נתונים למספר VLANs, מגדירים את הפורט כ-trunk באמצעות הפקודה:<br>Switchport mode trunk
Copy<br>לבחירת אילו VLANs יוכלו לעבור דרך הפורט, משתמשים בפקודה:<br>Switchport trunk allowed vlan 10,20,99
Copy<br>בנוסף, קובעים את ה-VLAN המוגדר כברירת מחדל (native VLAN) באמצעות:<br>Switchport trunk native vlan 99
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופן התיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdgrpqySzj04lq5UNbV0caF1XdpLsnKeiDtB-A1UfO2DG3EiV2sqRK02XqPqsNb7tmW-TrqT-3HR0PJgywKpxQrPjcsk3SD4q89EoDiURIgJew4NrXjeLNFeTSTJsSGTYlUtJ7LIMXV6h1DJ8nfFvLQx04qTlA-MHGW6zW43GB25NM6P1xA2R0=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>כדי לייעל את התקשורת בין VLANs שונים בפרויקט שלנו, נעשה שימוש בראוטר שמסוגל לנתב חבילות בין VLANs באמצעות תתי-ממשקים (Subinterfaces). במקום להקצות חיבור פיזי נפרד לכל VLAN, יצרנו מספר תתי-ממשקים על גבי פורט פיזי יחיד בראוטר. כל תת-ממשק משויך ל-VLAN ספציפי ומאפשר מעבר נתונים יעיל דרך חיבור trunk יחיד במתג. גישה זו חוסכת משאבים ומפשטת את הניהול, תוך שמירה על הפרדה לוגית ואבטחת מידע בין ה-VLANs.<br><br>Interface ethernet0/1.10
Encapsulation dot1q 10
Ip address 192.168.1.1 255.255.255.128
Copy<br><br><br>פרוטוקול STP נועד לזהות ולמנוע לולאות ברשת על ידי כיבוי פורטים שעלולים לגרום להן. גרסאות מתקדמות כמו PVST ו-RPVST מאפשרות להגדיר root bridge נפרד לכל VLAN, מה שמייעל את ניהול התעבורה.<br>במקום שכל החבילות מכל ה-VLANs יעברו דרך root bridge יחיד, השימוש ב-PVST מאפשר חלוקה חכמה של העומסים, כך ש-VLAN 10 ינותב דרך D1, ו-VLAN 20 ינותב דרך D2. יתרון נוסף הוא האפשרות להפעיל את ההגדרה portfast, שמאיצה את מעבר הפורט למצב forwarding ללא עיכובים במצבי learning ו-listening.<br>.<br><br>Spanning-tree mode pvst
Spanning-tree vlan 10 priority 8192
Spanning-tree vlan 20 priority 4096
Copy<br><br><br><img src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUe1T9M7HXN8CY5vswSYOUJCMsbvHvMuHjAGW4O3TluKGh_Zz5m96l5NqlmB31ebaccHgqvETN8P7vq6ngADw0f5hNXIdLk5b_TyYaHv9BArK0TlRjT2rbc_g0qoODj1FYJdSwn8kAuHASxJ0he0cv9R95UN_wdA_vFZ4WKDnnnTIp_gM2lEcac=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><img src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUezhGp1CgMeMJtC-74ZuPBpJAetcG9B7xPR4_Z0uO32MUDxTLagswUKVKiBx9zUMMtHCzOGG493DhV5XacNTFF16DxTpjjGMk1rXtf4NmL9a-W57SrT9xZ0rE93V6CuJpo9iW9m-hZVFakv8tMTKAuWFkbW_jiLYr2FveDLAQ455VmFcKq6WRA=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>SSH הוא פרוטוקול לקונפיגורציה מרחוק של מכשירים כמו ראוטרים או מתגים. שימוש ב-SSH בטופולוגיה מאפשר לנהל את המכשירים מרחוק ולבצע שינויים בהגדרות באופן בטוח.<br><br>Ip domain-name project.com
Crypto key generate rsa general-keys modulus 2048
Username manager secret Proman1998!
Ip ssh version 2
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUcP7vlh45DF8dfh_fGM3B4OR-gxmIs2QZmNfnVGTB9F0Br69D_poRWwhXAHn9MxlHwDU0u3KPr3SjEQbkutYufeDmSDmgUClKjnSI96OmX3rbptS8O1ZwEKJCApm2oMQNZaKHz7CLtzdsS6Hc_aYkzUXh6qJkrWs3IVOQncqCAQSFK6BhHLwOQ=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUcPJSh8AtbE_ggA-6_KhT3FcEuo2APJvp2rzlkH9LcIQDFiICsLpz8G-qaqPbIaA_kvm1UsupvD-fsloBzs9Ij6UK4HbfKlToTrn5Vi1dOqFSyA56yu1H_cXDjy86gh_w9-DSDvuudrTourh43LtDQsj50UlaIHmfMpTrd_jZK9jUDK0WY7g6g=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>טכנולוגיה שמאפשרת איחוד של מספר חיבורים פיזיים לחיבור לוגי אחד, מה שמגדיל את ה-bandwidth ויוצר redundancy. בטופולוגיה נעשה שימוש בפרוטוקולים כדי לחבר בין מתגים בסניף הראשי. במצב של כשל באחד הפורטים, החיבורים הנותרים ימשיכו לפעול כרגיל, מה שמבטיח אמינות וביצועים גבוהים. נבחר LACP מכיוון שהוא פרוטוקול סטנדרטי ופתוח לשימוש על ידי כל החברות, מה שמבטיח תאימות רחבה בין ציוד של יצרנים שונים.<br><br>Interface range e0/1-3
Channel-group 1 mode active
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUfMJL3FmGHCqBdyOe_1FdEr92I8ZqoocVKPT6__cClNAC7VmQpo3aQ9iHpTv9uUFfF_Ri37t5WQJOSTJ-HllCOfrp-jEJD7x21W_T7qtom_e5yySF8KZqjtbUpqP94FlwZ7mJujM3kHM1jEyY_OXQFYzFAEV1KrhhhrbywIJyVW3CSpQ7Hzbw=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>פרוטוקול לשיוך כתובות IP דינאמיות. בטופולוגיה שלנו, שרת ה-DHCP נמצא בראוטר בכל סניף ומוגדר לחלק כתובות לשני VLANs מ-2 pools של כתובות. הוגדרו גם כתובות שמורות בשביל הראוטרים שמשתמשים בכתובות סטטיות.<br><br>Ip dhcp excluded-address 192.168.0.1  192.168.0.5
Ip dhcp pool Main_Users
Network 192.168.0.0 255.255.255.128
Default-router 192.168.0.1
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdG3CZwMmHBu0EQN-6iP2_4Q25-NNGLq9V2jh149vJCPOESpz1vejsfprDdBbcjsiJUWGCr_YpIOEF4RrHT57DWb7M2KxhRCvtAYc35g-YRUbsx7QDaaRRHB2wlfoulUkaqNWutvcwUq0Lh8Q0EeZtgFz9Tf43dWaA7eeoQjgHoarobvUyF8_w=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdERDNI9c_P_1kd3XYBa7N8pllpI_8O2oystqzaSyYduraXwZ4sLLSXR3QtcpTcCM-Rj1iZX1jBlwJMqbHXAJ3bBmLAIEjq6vp04U8zQSE_Oh6pqv7GRYI26u_1z-WYAzQKFobQE8ajza_N6aYoQGnMjsDMiquxYS6X-aIM4lD2WjoGyHpDmMU=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>פיצ’ר בשכבה 2 שמאפשר לגרום לפורט להיכבות אם מתגלה הפר בטופולוגיה שלנו, הפיצ'ר מוגדר כך שפורטים במתג יכובו אם עברו יותר משתי כתובות MAC בזמן מסוים. כך נמנע MAC address flooding attack שגורמת לטבלה במתג להיות מלאה ולשלוח חבילות כ-unknown unicast flooding.<br><br>Interface e0/0
Switchport port-security maximum 2
Switchport port-security violation shutdown
Switchport port-security aging time 5
Switchport port-security aging type inactivity
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסךהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdMCGgKXJOk0uHsnFdxf7mVbstha7c2h0owxXh0j4IFll1U2MEGhmw1PB0_ocMkoeSRiXUPNo6qlxThm9fVbm2XFBeE3ryKFrpQv9_7U0-WwuBgKajiJov5LkABxicqjt585rypZ0957X9O9mHfkXx5Kcz73cTxZ4uiHB5tgZTrSk85eRReOok=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br> נועד למנוע מתקפות של man in the middle attack או DHCP Spoofing. הפיצ'ר מופעל במתגים כדי למנוע משרת DHCP מתחזה לחלק כתובות IP שגויות או לפרסם את התוקף בתור default gateway, ובכך לגרום למתקפות. הפיצ'ר הופך את כל הפורטים במתג ל-untrusted ובודק כל סוג חבילת DHCP, כך שמחליט אם יכולה לעבור או שתיחסם.<br><br>Ip dhcp snooping
Ip dhcp snooping vlan 10
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסךהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUe90DbiSLZkczxC0PtYvN4LzXVzspfUnHnRdZZGEXw24M2cJBwQMgXn-2-I58La-fbR6XDKYKEn89Aprug_Wh_a3WiCYcb7tQYYi-0wWsyWCsS2gyvPUcn3vTYE7Rwy6SHWUvIQsFSsXVv5lgFOLCdKgkpviKIX-V1ikDiqmDa6T2qY_oDogb8=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופן, קוהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUd0jgqD9xHLNJ6DlKmoVS0XNDspCYYkfdjX4hnrVNbtrBJic8V8YbBfn-J2LC3TemCQT2ma9v0N89GNYE-DamPvkP4KlSTO6dkBSCxDlczEfTReu9fBpGLpYaRnMKv4psWigKh6DdgYwlSv9ZFMD8KuB20kL4Yr7qzf7cbSfooAL4ewlPi21mk=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>דרך להגדיר בשכבה 3 מי יכול לעבור ומי לא. בטופולוגיה קיים standard ACL שחוסם את כל הכתובות ב VLAN users שלא יעברו חבילות למכשירי הרשת עצמם כמו חבילות SSH, ומתיר לכתובות ב VLAN IT לשלוח<br><br>Ip access-list standard ALLOW_VTY_ACCESS
Permit 192.168.1.128 0.0.0.127 host 192.168.1.129
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUf0iSn-iOsP0WexevHXjDCT0LI4PDBZpuZBHQn9-9Uvz8WOs_sY2f3rATIApvM8bgUX2OU_8ERuqL5Xb1FOi1HtM9X4fOK1S9K5JNN_7bwVjsDnx7o98jjfdrBJZF93sPxvcy7NzKa2SUosG8fawUX7kBNy6ZCmiC7cXFaCvv1f5iQS8JjITQ=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>כדי לאבטח מכשיר בין אם בחיבור פיזי או מרחוק צריך סיסמאות. בשביל console port וגם vty השתמשנו בשם משתמש וסיסמא עם הפקודה או עם שרת AAA.<br><br>/```<br>
Username manager secret Proman1998!<br>
Login local - שמבקשת מהמכשיר לאמת לפי שם משתמש וסיסמא שהוגדרו.<br>
Service password-encryption - מצפין את כל הסיסמאות שמופיעות ב-clear text.<br>
Enable secret Ccnpdev24! - קובע סיסמא נוספת למצב Privileged EXEC.<br>
/```<br><br><br>// Include screenshots or output data<br><br><br>בנוסף לסיסמאות שהוזכרו, ישנן הגדרות נוספות שכדאי להוסיף לחיבורים האלה כדי להגביר את האבטחה. <br><br>Line console 0
Login local - כדי להשתמש בסיסמא ושם משתמש שמוגדרים מקומית.
Access-class 10 in - משייך ACL כדי להגביל גישה.
Exec-timeout 5 0 - מנתק את המשתמש אחרי 5 דקות של חוסר פעילות.
Login block-for 120 attempts 3 within 180 - חוסם את המשתמש ל-2 דקות אם הכניס סיסמא שגויה בתוך 3 דקות אחרי 3 ניסיונות.
Copy<br><br>Line vty 0 15
Transport input ssh - מוודא שהחיבור המרוחק מאובטח ולא עובר ב-clear text.
Login local
Exec-timeout 5 0
Access-class 10 in
Login block-for 120 attempts 3 within 180
Copy<br><br><br>כפי שהוזכר בשקופית בנושא STP, יש אפשרות להגדיר portfast כדי להאיץ את חיבור ה-end devices. אך אם מחברים switch לפורט שהוגדר ב-portfast, עלול להיווצר מצב של broadcast storm. כדי למנוע זאת, מוגדר BPDU guard, שמוודא שהמכשיר שמחובר לפורט הוא לא מתג. אם הפורט מקבל BPDU (חבילה שמתגים שולחים ביניהם), הפורט ייכנס למצב error disabled ויחסום את כל מה שינסה לעבור.<br><br>Spanning-tree portfast bpduguard enable
Copy<br><br><br><img alt="תמונה שמכילה טקסט, צילום מסך, גופןהתיאור נוצר באופן אוטומטי" src="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUchYoi91mOhJo8wVwOQnd5IStd-_D4a8LPvLlKsfs_F3t_corfwpVTrL1AgjPpqTp2LYlqo7PFoc3dSRRRW6cdipj_y1zlHbSQ6C3F1OCBWBfTHp4kSASgnjE13Szx6faEK72MpIxVA-eu00huYXD9U0TyouAXez6OOuszgK1Rsp20tVOWeEg=s2048?key=N624l6IVsND70Ap_mppH7Q" referrerpolicy="no-referrer"><br><br><br>מומלץ בתור best practice לכבות פורטים שלא מחוברים לכלום ולשים אותם ב-VLAN נפרד שנקרא blackhole.<br><br>Interface range e0/5 - 24
Vlan 999
Name blackhole
Switchport mode access
Switchport access vlan 999
Spanning-tree bpduguard enable
Copy<br><br>Switchport trunk native vlan 99 - שינוי ה-native vlan מהמספר הדיפולטיבי שהוא 1.<br><br><br>בחרנו להשתמש ב-Ansible כי לא צריך להתקין agent על כל המכשירים כמו ב-Chef או Puppet. Ansible עובד בשיטת push, שמעביר פקודות לכל הכתובות בקובץ ה-inventory לפי ה-playbook דרך פרוטוקול SSH שכבר קיים על כולם.<br><br>
<br>Run 'show run' command - עוברים על כל מכשיר בטופולוגיה ורושמים את הפקודה show run.
<br>Save command output to a file - שומרים את הפלט בתוך קובץ עם hostname של כל מכשיר.
<br>]]></description><link>פרויקט-גמר.html</link><guid isPermaLink="false">פרויקט גמר.md</guid><pubDate>Mon, 19 Aug 2024 13:02:15 GMT</pubDate><enclosure url="https://lh7-rt.googleusercontent.com/slidesz/AGV_vUfGpDLzjIHwpmSOOWCa1uRxcqKuO2llu0S9IN2kphg9G1bE9KJ_lcRgIdxKOekh65YgIgxEFn1iPWWRX_ipK6dhVjG_tlo6eD1i-kWZxUybUI1aGuL_Luhk_ib3SkdzCOKa0Cw8uTHnR5vDgXKhM_BxuUTSVL5nQ162eTqx6Pzfe1_AGeT3KAM=s2048?key=N624l6IVsND70Ap_mppH7Q" length="0" type="false"/><content:encoded>&lt;figure&gt;&lt;img src=&quot;https://lh7-rt.googleusercontent.com/slidesz/AGV_vUfGpDLzjIHwpmSOOWCa1uRxcqKuO2llu0S9IN2kphg9G1bE9KJ_lcRgIdxKOekh65YgIgxEFn1iPWWRX_ipK6dhVjG_tlo6eD1i-kWZxUybUI1aGuL_Luhk_ib3SkdzCOKa0Cw8uTHnR5vDgXKhM_BxuUTSVL5nQ162eTqx6Pzfe1_AGeT3KAM=s2048?key=N624l6IVsND70Ap_mppH7Q&quot;&gt;&lt;/figure&gt;</content:encoded></item></channel></rss>